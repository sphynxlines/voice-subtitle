<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä½¿ç”¨æŠ¥å‘Š</title>
  
  <!-- Styles -->
  <link rel="stylesheet" href="/src/css/stats.css">
  
  <style>
    /* Inline styles removed - now in /src/css/stats.css */
  </style>
</head>
<body>

  <div class="container">
    <!-- ç™»å½•æ¡† -->
    <div class="login-box" id="loginBox">
      <h1>ğŸ“Š ä½¿ç”¨æŠ¥å‘Š</h1>
      <input type="password" id="keyInput" placeholder="è¾“å…¥å¯†é’¥" aria-label="è¾“å…¥å¯†é’¥">
      <button onclick="loadStats()" aria-label="æŸ¥çœ‹æŠ¥å‘Š">æŸ¥çœ‹</button>
    </div>

    <!-- æŠ¥å‘Šå†…å®¹ -->
    <div id="reportContent" class="hidden">
      <div class="header">
        <h1>ğŸ“Š ä½¿ç”¨æŠ¥å‘Š</h1>
        <div>
          <span class="last-updated" id="lastUpdated" aria-live="polite"></span>
          <button class="refresh-btn" onclick="loadStats()" aria-label="åˆ·æ–°æ•°æ®">ğŸ”„ åˆ·æ–°</button>
        </div>
      </div>

      <div id="errorBox" class="error hidden" role="alert"></div>

      <!-- ç»Ÿè®¡å¡ç‰‡ -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="number" id="totalCount">-</div>
          <div class="label">æ€»è¯·æ±‚æ•°</div>
        </div>
        <div class="stat-card">
          <div class="number" id="monthCount">-</div>
          <div class="label">æœ¬æœˆè¯·æ±‚</div>
        </div>
        <div class="stat-card">
          <div class="number" id="todayCount">-</div>
          <div class="label">ä»Šæ—¥è¯·æ±‚</div>
        </div>
        <div class="stat-card">
          <div class="number" id="todayUnique">-</div>
          <div class="label">ä»Šæ—¥ç”¨æˆ·</div>
        </div>
      </div>

      <!-- å›¾è¡¨ -->
      <div class="chart-section">
        <h2>ğŸ“ˆ æœ€è¿‘ 7 å¤©è¯·æ±‚é‡</h2>
        <div class="chart" id="chart"></div>
      </div>

      <!-- è¯¦ç»†è¡¨æ ¼ -->
      <div class="table-section">
        <h2>ğŸ“‹ è¯¦ç»†æ•°æ®</h2>
        <table>
          <thead>
            <tr>
              <th>æ—¥æœŸ</th>
              <th>è¯·æ±‚æ•°</th>
              <th>ç‹¬ç«‹ç”¨æˆ·</th>
            </tr>
          </thead>
          <tbody id="tableBody">
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Application -->
  <script type="module" src="/src/js/stats-page.js"></script>

</body>
</html>